{"ast":null,"code":"var _jsxFileName = \"/home/mddil/Desktop/projects/freelancebangla/frontend/src/components/user/worker/Application.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useEffect, useState } from 'react';\nimport { confirmApplication } from \"../../../api/apiWorker\";\nimport { userInfo } from \"../../../utils/auth\";\nimport Layout from \"../../Layout\";\nimport { useParams } from 'react-router-dom';\nimport { showSuccess, showError } from '../../../utils/messages';\nimport ApplicationModal from \"./ApplicationModal\";\nimport { getJobAdvertiseDetails } from \"../../../api/apiWorker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Application = () => {\n  _s();\n  const {\n    job_id\n  } = useParams();\n  const [userId, setUserId] = useState('');\n  const [job, setJob] = useState({});\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [token, setToken] = useState('');\n  const [modal, setModal] = useState(false);\n  const toggle = () => setModal(!modal);\n  useEffect(() => {\n    const {\n      token,\n      id\n    } = userInfo();\n    setToken(token);\n    setUserId(id);\n    getJobAdvertiseDetails(token, job_id).then(res => {\n      setJob(res.data);\n    }).catch(err => setError(\"Failed to load the advertised job\"));\n  }, []);\n  const handleClick = () => {\n    confirmApplication(token, {\n      job_id: job.id,\n      applicant_id: userId\n    }).then(res => {\n      setSuccess(true);\n      toggle();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      title: \"Apply Job\",\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%'\n        },\n        children: [showError(error, error), showSuccess(success, \"You have applied for the job\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ApplicationModal, {\n        job: job,\n        toggle: toggle,\n        modal: modal,\n        handleClick: handleClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(Application, \"92PaS8q8bKJ+v4izLzJRPy2LsPE=\", false, function () {\n  return [useParams];\n});\n_c = Application;\nexport default Application;\nvar _c;\n$RefreshReg$(_c, \"Application\");","map":{"version":3,"names":["React","useEffect","useState","confirmApplication","userInfo","Layout","useParams","showSuccess","showError","ApplicationModal","getJobAdvertiseDetails","Application","job_id","userId","setUserId","job","setJob","error","setError","success","setSuccess","token","setToken","modal","setModal","toggle","id","then","res","data","catch","err","handleClick","applicant_id","width"],"sources":["/home/mddil/Desktop/projects/freelancebangla/frontend/src/components/user/worker/Application.js"],"sourcesContent":["import React from \"react\";\nimport { useEffect, useState } from 'react';\nimport { confirmApplication } from \"../../../api/apiWorker\";\nimport { userInfo } from \"../../../utils/auth\";\nimport Layout from \"../../Layout\";\nimport { useParams } from 'react-router-dom';\nimport { showSuccess, showError } from '../../../utils/messages';\nimport ApplicationModal from \"./ApplicationModal\";\nimport { getJobAdvertiseDetails } from \"../../../api/apiWorker\";\n\nconst Application = () => {\n\n    const { job_id } = useParams();\n    const [userId, setUserId] = useState('');\n    const [job, setJob] = useState({});\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState(false);\n    const [token, setToken] = useState('');\n    const [modal, setModal] = useState(false);\n    const toggle = () => setModal(!modal);\n\n    useEffect(() => {\n        const { token, id } = userInfo();\n        setToken(token);\n        setUserId(id);\n        getJobAdvertiseDetails(token, job_id)\n            .then(res => {\n                setJob(res.data);\n            })\n            .catch(err => setError(\"Failed to load the advertised job\"))\n    }, []);\n\n    const handleClick = () => {\n        confirmApplication(token, { job_id: job.id, applicant_id: userId })\n            .then(res => {\n                setSuccess(true)\n                toggle();\n            })\n    }\n\n    return (\n        <div>\n            <Layout title=\"Apply Job\" className=\"container\">\n                <div style={{ width: '100%' }}>\n                    {showError(error, error)}\n                    {showSuccess(success, \"You have applied for the job\")}\n                </div>\n                <ApplicationModal job={job} toggle={toggle} modal={modal} handleClick={handleClick} />\n            </Layout>\n        </div>\n    )\n}\n\nexport default Application;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,kBAAkB,QAAQ,wBAAwB;AAC3D,SAASC,QAAQ,QAAQ,qBAAqB;AAC9C,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,WAAW,EAAEC,SAAS,QAAQ,yBAAyB;AAChE,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,SAASC,sBAAsB,QAAQ,wBAAwB;AAAC;AAEhE,MAAMC,WAAW,GAAG,MAAM;EAAA;EAEtB,MAAM;IAAEC;EAAO,CAAC,GAAGN,SAAS,EAAE;EAC9B,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,GAAG,EAAEC,MAAM,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClC,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAMuB,MAAM,GAAG,MAAMD,QAAQ,CAAC,CAACD,KAAK,CAAC;EAErCtB,SAAS,CAAC,MAAM;IACZ,MAAM;MAAEoB,KAAK;MAAEK;IAAG,CAAC,GAAGtB,QAAQ,EAAE;IAChCkB,QAAQ,CAACD,KAAK,CAAC;IACfP,SAAS,CAACY,EAAE,CAAC;IACbhB,sBAAsB,CAACW,KAAK,EAAET,MAAM,CAAC,CAChCe,IAAI,CAACC,GAAG,IAAI;MACTZ,MAAM,CAACY,GAAG,CAACC,IAAI,CAAC;IACpB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAIb,QAAQ,CAAC,mCAAmC,CAAC,CAAC;EACpE,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMc,WAAW,GAAG,MAAM;IACtB7B,kBAAkB,CAACkB,KAAK,EAAE;MAAET,MAAM,EAAEG,GAAG,CAACW,EAAE;MAAEO,YAAY,EAAEpB;IAAO,CAAC,CAAC,CAC9Dc,IAAI,CAACC,GAAG,IAAI;MACTR,UAAU,CAAC,IAAI,CAAC;MAChBK,MAAM,EAAE;IACZ,CAAC,CAAC;EACV,CAAC;EAED,oBACI;IAAA,uBACI,QAAC,MAAM;MAAC,KAAK,EAAC,WAAW;MAAC,SAAS,EAAC,WAAW;MAAA,wBAC3C;QAAK,KAAK,EAAE;UAAES,KAAK,EAAE;QAAO,CAAE;QAAA,WACzB1B,SAAS,CAACS,KAAK,EAAEA,KAAK,CAAC,EACvBV,WAAW,CAACY,OAAO,EAAE,8BAA8B,CAAC;MAAA;QAAA;QAAA;QAAA;MAAA,QACnD,eACN,QAAC,gBAAgB;QAAC,GAAG,EAAEJ,GAAI;QAAC,MAAM,EAAEU,MAAO;QAAC,KAAK,EAAEF,KAAM;QAAC,WAAW,EAAES;MAAY;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA;EACjF;IAAA;IAAA;IAAA;EAAA,QACP;AAEd,CAAC;AAAA,GAzCKrB,WAAW;EAAA,QAEML,SAAS;AAAA;AAAA,KAF1BK,WAAW;AA2CjB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}