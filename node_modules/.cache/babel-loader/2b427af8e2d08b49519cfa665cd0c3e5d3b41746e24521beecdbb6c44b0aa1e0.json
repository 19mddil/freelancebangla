{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nexport const authenticate = (token, cb) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(token));\n    cb();\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window === 'undefined') return false;\n  if (localStorage.getItem('jwt')) {\n    const {\n      exp\n    } = jwt_decode(JSON.parse(localStorage.getItem('jwt')));\n    if (new Date().getTime() < exp * 1000) {\n      return true;\n    } else {\n      localStorage.removeItem('jwt');\n      return false;\n    }\n  } else return false;\n};\nexport const userInfo = () => {\n  const jwt = JSON.parse(localStorage.getItem('jwt'));\n  const decoded = jwt_decode(jwt);\n  return {\n    ...decoded,\n    token: jwt\n  };\n};\nexport const signout = () => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n  }\n};","map":{"version":3,"names":["jwt_decode","authenticate","token","cb","window","localStorage","setItem","JSON","stringify","isAuthenticated","getItem","exp","parse","Date","getTime","removeItem","userInfo","jwt","decoded","signout"],"sources":["/home/mddil/Desktop/projects/freelancebangla/frontend/src/utils/auth.js"],"sourcesContent":["import jwt_decode from 'jwt-decode'\n\nexport const authenticate = (token, cb) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(token));\n        cb();\n    }\n}\n\nexport const isAuthenticated = () => {\n    if (typeof window === 'undefined') return false;\n    if (localStorage.getItem('jwt')) {\n        const { exp } = jwt_decode(JSON.parse(localStorage.getItem('jwt')));\n        if ((new Date()).getTime() < exp * 1000) {\n            return true;\n        } else {\n            localStorage.removeItem('jwt');\n            return false;\n        }\n    }\n    else return false;\n}\n\nexport const userInfo = () => {\n    const jwt = JSON.parse(localStorage.getItem('jwt'));\n    const decoded = jwt_decode(jwt);\n    return {\n        ...decoded,\n        token: jwt\n    }\n}\n\nexport const signout = () => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n    }\n}"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAK,EAAEC,EAAE,KAAK;EACvC,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;IAC/BC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEC,IAAI,CAACC,SAAS,CAACN,KAAK,CAAC,CAAC;IAClDC,EAAE,EAAE;EACR;AACJ,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAM;EACjC,IAAI,OAAOL,MAAM,KAAK,WAAW,EAAE,OAAO,KAAK;EAC/C,IAAIC,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC,EAAE;IAC7B,MAAM;MAAEC;IAAI,CAAC,GAAGX,UAAU,CAACO,IAAI,CAACK,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IACnE,IAAK,IAAIG,IAAI,EAAE,CAAEC,OAAO,EAAE,GAAGH,GAAG,GAAG,IAAI,EAAE;MACrC,OAAO,IAAI;IACf,CAAC,MAAM;MACHN,YAAY,CAACU,UAAU,CAAC,KAAK,CAAC;MAC9B,OAAO,KAAK;IAChB;EACJ,CAAC,MACI,OAAO,KAAK;AACrB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAC1B,MAAMC,GAAG,GAAGV,IAAI,CAACK,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC,CAAC;EACnD,MAAMQ,OAAO,GAAGlB,UAAU,CAACiB,GAAG,CAAC;EAC/B,OAAO;IACH,GAAGC,OAAO;IACVhB,KAAK,EAAEe;EACX,CAAC;AACL,CAAC;AAED,OAAO,MAAME,OAAO,GAAG,MAAM;EACzB,IAAI,OAAOf,MAAM,KAAK,WAAW,EAAE;IAC/BC,YAAY,CAACU,UAAU,CAAC,KAAK,CAAC;EAClC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}