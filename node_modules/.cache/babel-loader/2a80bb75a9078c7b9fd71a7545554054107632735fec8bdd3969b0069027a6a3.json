{"ast":null,"code":"import _objectSpread from\"/home/mddil/Desktop/projects/FREELANCEBANGLA-PRODUCTION/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import jwt_decode from'jwt-decode';export var authenticate=function authenticate(token,cb){if(typeof window!=='undefined'){localStorage.setItem('jwt',JSON.stringify(token));cb();}};export var isAuthenticated=function isAuthenticated(){if(typeof window==='undefined')return false;if(localStorage.getItem('jwt')){var _jwt_decode=jwt_decode(JSON.parse(localStorage.getItem('jwt'))),exp=_jwt_decode.exp;if(new Date().getTime()<exp*1000){return true;}else{localStorage.removeItem('jwt');return false;}}else return false;};export var userInfo=function userInfo(){var jwt=JSON.parse(localStorage.getItem('jwt'));var decoded=jwt_decode(jwt);return _objectSpread(_objectSpread({},decoded),{},{token:jwt});};export var signout=function signout(){if(typeof window!=='undefined'){localStorage.removeItem('jwt');}};","map":{"version":3,"names":["jwt_decode","authenticate","token","cb","window","localStorage","setItem","JSON","stringify","isAuthenticated","getItem","parse","exp","Date","getTime","removeItem","userInfo","jwt","decoded","signout"],"sources":["/home/mddil/Desktop/projects/FREELANCEBANGLA-PRODUCTION/src/utils/auth.js"],"sourcesContent":["import jwt_decode from 'jwt-decode'\n\nexport const authenticate = (token, cb) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(token));\n        cb();\n    }\n}\n\nexport const isAuthenticated = () => {\n    if (typeof window === 'undefined') return false;\n    if (localStorage.getItem('jwt')) {\n        const { exp } = jwt_decode(JSON.parse(localStorage.getItem('jwt')));\n        if ((new Date()).getTime() < exp * 1000) {\n            return true;\n        } else {\n            localStorage.removeItem('jwt');\n            return false;\n        }\n    }\n    else return false;\n}\n\nexport const userInfo = () => {\n    const jwt = JSON.parse(localStorage.getItem('jwt'));\n    const decoded = jwt_decode(jwt);\n    return {\n        ...decoded,\n        token: jwt\n    }\n}\n\nexport const signout = () => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n    }\n}"],"mappings":"4IAAA,MAAOA,WAAU,KAAM,YAAY,CAEnC,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAEC,EAAE,CAAK,CACvC,GAAI,MAAOC,OAAM,GAAK,WAAW,CAAE,CAC/BC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEC,IAAI,CAACC,SAAS,CAACN,KAAK,CAAC,CAAC,CAClDC,EAAE,EAAE,CACR,CACJ,CAAC,CAED,MAAO,IAAMM,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CACjC,GAAI,MAAOL,OAAM,GAAK,WAAW,CAAE,MAAO,MAAK,CAC/C,GAAIC,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC,CAAE,CAC7B,gBAAgBV,UAAU,CAACO,IAAI,CAACI,KAAK,CAACN,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAA3DE,GAAG,aAAHA,GAAG,CACX,GAAK,GAAIC,KAAI,EAAE,CAAEC,OAAO,EAAE,CAAGF,GAAG,CAAG,IAAI,CAAE,CACrC,MAAO,KAAI,CACf,CAAC,IAAM,CACHP,YAAY,CAACU,UAAU,CAAC,KAAK,CAAC,CAC9B,MAAO,MAAK,CAChB,CACJ,CAAC,IACI,OAAO,MAAK,CACrB,CAAC,CAED,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAC1B,GAAMC,IAAG,CAAGV,IAAI,CAACI,KAAK,CAACN,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC,CAAC,CACnD,GAAMQ,QAAO,CAAGlB,UAAU,CAACiB,GAAG,CAAC,CAC/B,sCACOC,OAAO,MACVhB,KAAK,CAAEe,GAAG,GAElB,CAAC,CAED,MAAO,IAAME,QAAO,CAAG,QAAVA,QAAO,EAAS,CACzB,GAAI,MAAOf,OAAM,GAAK,WAAW,CAAE,CAC/BC,YAAY,CAACU,UAAU,CAAC,KAAK,CAAC,CAClC,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}