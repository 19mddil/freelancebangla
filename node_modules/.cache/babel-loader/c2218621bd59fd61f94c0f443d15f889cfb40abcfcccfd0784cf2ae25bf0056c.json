{"ast":null,"code":"import _defineProperty from\"/home/mddil/Desktop/projects/FREELANCEBANGLA-PRODUCTION/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/mddil/Desktop/projects/FREELANCEBANGLA-PRODUCTION/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/mddil/Desktop/projects/FREELANCEBANGLA-PRODUCTION/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import Layout from'../Layout';import{showError,showLoading}from'../../utils/messages';import{register}from'../../api/apiAuth';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState({email:'',password:'',role:'',error:false,loading:false,disabled:false,success:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var email=values.email,password=values.password,role=values.role,success=values.success,error=values.error,loading=values.loading,disabled=values.disabled;var handleChange=function handleChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({error:false},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{error:false,loading:true,disabled:true}));console.log(email,password,role);//this is a axios function\nregister({email:email,password:password,role:role}).then(function(response){setValues({email:'',password:'',role:'',success:true,disabled:false,loading:false});}).catch(function(err){var errMsg='Something went wrong';if(err.response){errMsg=err.response.data;}setValues(_objectSpread(_objectSpread({},values),{},{success:false,error:errMsg,disabled:false,loading:false}));});};var signUpForm=function signUpForm(){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",value:email,required:true,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:password,required:true,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",name:\"role\",type:\"radio\",value:\"worker\",required:true,onClick:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"I want to register as a woker.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",name:\"role\",type:\"radio\",value:\"client\",required:true,onClick:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"I want to register as a client.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:disabled,children:\"Create Account\"})]});};var showSuccess=function showSuccess(){if(success)return/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-primary\",children:[\"New account Created. Please \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]});};return/*#__PURE__*/_jsxs(Layout,{title:\"Register\",className:\"container col-md-8 offset-md-2\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Register Here,\"}),/*#__PURE__*/_jsx(\"hr\",{}),signUpForm(),/*#__PURE__*/_jsx(\"hr\",{}),showSuccess(success),showLoading(loading),showError(error,error)]});};export default Register;","map":{"version":3,"names":["React","useState","Layout","showError","showLoading","register","Link","Register","email","password","role","error","loading","disabled","success","values","setValues","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","then","response","catch","err","errMsg","data","signUpForm","showSuccess"],"sources":["/home/mddil/Desktop/projects/FREELANCEBANGLA-PRODUCTION/src/components/user/Register.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport Layout from '../Layout';\nimport { showError, showLoading } from '../../utils/messages';\nimport { register } from '../../api/apiAuth';\nimport { Link } from 'react-router-dom';\n\nconst Register = () => {\n    const [values, setValues] = useState({\n        email: '',\n        password: '',\n        role: '',\n        error: false,\n        loading: false,\n        disabled: false,\n        success: false\n    });\n\n    const { email, password, role, success, error, loading, disabled } = values;\n\n    const handleChange = e => {\n        setValues({\n            ...values,\n            error: false,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        setValues({\n            ...values,\n            error: false,\n            loading: true,\n            disabled: true\n        });\n        console.log(email, password, role);\n        //this is a axios function\n        register({\n            email,\n            password,\n            role\n        }).then(response => {\n            setValues({\n                email: '',\n                password: '',\n                role: '',\n                success: true,\n                disabled: false,\n                loading: false\n            })\n        }).catch(err => {\n            let errMsg = 'Something went wrong';\n            if (err.response) {\n                errMsg = err.response.data;\n            }\n            setValues({\n                ...values,\n                success: false,\n                error: errMsg,\n                disabled: false,\n                loading: false\n            })\n        })\n    }\n\n    const signUpForm = () => (\n        <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email:</label>\n                <input type=\"email\" name=\"email\" className=\"form-control\"\n                    value={email} required onChange={handleChange} />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password:</label>\n                <input type=\"password\" name=\"password\" className=\"form-control\"\n                    value={password} required onChange={handleChange} />\n            </div>\n            <div className=\"form-check\">\n                <input className=\"form-check-input\" name=\"role\" type=\"radio\" value='worker' required onClick={handleChange} />\n                <label className=\"form-check-label\">\n                    I want to register as a woker.\n                </label><br />\n                <input className=\"form-check-input\" name=\"role\" type=\"radio\" value='client' required onClick={handleChange} />\n                <label className=\"form-check-label\" >\n                    I want to register as a client.\n                </label>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={disabled}>Create Account</button>\n        </form>\n    );\n\n    const showSuccess = () => {\n        if (success) return (\n            <div className='alert alert-primary'>\n                New account Created. Please <Link to='/login'>Login</Link>\n            </div>\n        )\n    }\n\n    return (\n        <Layout title=\"Register\" className=\"container col-md-8 offset-md-2\">\n\n            <h3>Register Here,</h3>\n            <hr />\n            {signUpForm()}\n            <hr />\n            {showSuccess(success)}\n            {showLoading(loading)}\n            {showError(error, error)}\n        </Layout>\n    );\n}\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}