{"ast":null,"code":"'use strict';\n\nvar React = require('react');\nvar Field = require('react-input-field/src');\nvar assign = require('object-assign');\nvar normalize = require('react-style-normalizer');\nfunction emptyFn() {}\nvar getSelectionStart = require('./getSelectionStart');\nvar getSelectionEnd = require('./getSelectionEnd');\nvar setSelectionRange = require('./setSelectionRange');\nvar preventDefault = function (event) {\n  event.preventDefault();\n};\nfunction insert(target, index, what) {\n  if (index == -1) {\n    return target.concat(what);\n  }\n  return target.slice(0, index).concat(what).concat(target.slice(index));\n}\nmodule.exports = React.createClass({\n  displayName: 'ReactTagField',\n  getSelectionStart: function () {\n    return getSelectionStart(this.refs.field.getInput());\n  },\n  getSelectionEnd: function () {\n    return getSelectionEnd(this.refs.field.getInput());\n  },\n  setSelectionRange: function (range) {\n    var start = range.start;\n    var end = range.end;\n    setSelectionRange(this.refs.field.getInput(), range);\n  },\n  getDefaultProps: function () {\n    return {\n      minInputSize: 3,\n      selectedTagStyle: {\n        background: 'rgb(200, 200, 200)'\n      },\n      focusOnClick: true,\n      selectableTags: true,\n      clearTool: false,\n      tagOnBlur: false,\n      tagClearTool: false,\n      allowDuplicates: false,\n      editableTags: true,\n      delimiter: ' ',\n      tagClearToolColor: '#a8a8a8',\n      defaultStyle: {\n        overflow: 'hidden'\n      },\n      defaultInputStyle: {\n        flex: 'none',\n        alignSelf: 'center'\n        // minWidth: 50\n      },\n\n      defaultInnerStyle: {\n        display: 'inline-flex',\n        flexFlow: 'row wrap'\n      },\n      defaultTagStyle: {\n        display: 'inline-flex',\n        boxSizing: 'border-box',\n        alignItems: 'center',\n        flex: 'none',\n        flexFlow: 'row',\n        padding: '6px 2px',\n        marginLeft: 2,\n        marginTop: 1,\n        marginBottom: 1,\n        border: '1px solid gray',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap'\n      },\n      defaultTagClearToolStyle: {\n        cursor: 'pointer'\n      },\n      validateTag: function (x) {\n        return x !== '' && x != null;\n      }\n    };\n  },\n  getInitialState: function () {\n    return {\n      defaultValue: this.props.defaultValue,\n      defaultTags: this.props.defaultTags,\n      activeTagIndex: -1\n    };\n  },\n  getValue: function () {\n    var value = this.props.value === undefined ? this.state.defaultValue : this.props.value;\n    return value;\n  },\n  render: function () {\n    var props = this.prepareProps(this.props, this.state);\n    var inputSize = Math.max(props.value ? props.value.length : 0, this.props.minInputSize);\n    return React.createElement(Field, React.__spread({\n      ref: \"field\"\n    }, props, {\n      inputProps: {\n        size: inputSize\n      }\n    }));\n  },\n  getInfoForValue: function (value, propsTags) {\n    var props = this.props;\n    var state = this.state;\n    var activeTagIndex = state.activeTagIndex;\n    var tags = value.split(props.delimiter);\n    var newValue = tags[tags.length - 1];\n    var tagMap = {};\n    if (!props.allowDuplicates) {\n      propsTags = propsTags || this.prepareTags(this.props);\n      propsTags.forEach(function (tag, index) {\n        if (index != activeTagIndex) {\n          tagMap[tag] = true;\n        }\n      });\n    }\n    tags = tags.slice(0, tags.length - 1).filter(function (x) {\n      return x && !tagMap[x];\n    });\n    return {\n      tags: tags,\n      value: newValue\n    };\n  },\n  handleClick: function (props, event) {\n    if (!event.nativeEvent.tagClick) {\n      this.props.focusOnClick && this.focus();\n      this.setState({\n        activeTagIndex: -1\n      });\n    }\n    ;\n    (this.props.onClick || emptyFn)(event);\n  },\n  handleBlur: function (props, event) {\n    if (props.tagOnBlur && props.validateTag(props.value)) {\n      this.handleChange(props, props.value + props.delimiter, null, event);\n    }\n    ;\n    (this.props.onBlur || emptyFn)(event);\n  },\n  handleChange: function (props, value, inputProps, event) {\n    var state = this.state;\n    var info = this.getInfoForValue(value, props.tags);\n    var newTags = info.tags;\n    var allTags = props.editableTags ? insert(props.tags, state.activeTagIndex, newTags) : [].concat(props.tags).concat(newTags);\n    if (newTags.length && state.activeTagIndex != -1 && props.editableTags) {\n      this.setState({\n        activeTagIndex: state.activeTagIndex + 1\n      });\n    }\n    this.notifyChange(props, info.value, allTags, event);\n  },\n  notifyChange: function (props, newValue, allTags, event) {\n    var newState = {};\n    (this.props.onChangeTags || emptyFn)(allTags);\n    if (this.props.tags == null) {\n      newState.defaultTags = allTags;\n    }\n    if (this.props.value == null) {\n      newState.defaultValue = newValue;\n    }\n    this.setState(newState);\n    (this.props.onChange || emptyFn)(newValue, this.props, event);\n  },\n  handleKeyDown: function (props, event) {\n    var key = event.key;\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(event);\n    }\n    if (!props.tags.length || !props.editableTags) {\n      return;\n    }\n    if (key != 'Backspace' && key != 'ArrowLeft' && key != 'ArrowRight' && key != 'Delete') {\n      return;\n    }\n    var value = props.value + '';\n    var index = this.state.activeTagIndex;\n    var tags = props.tags;\n    var textToLeft;\n    var textToRight;\n    var selectionStart = this.getSelectionStart();\n    var selectionEnd = this.getSelectionEnd();\n    if (selectionStart < selectionEnd) {\n      return;\n    }\n    if (key == 'ArrowLeft' || key == 'Backspace') {\n      textToLeft = value.substring(0, selectionStart);\n    }\n    if (key == 'ArrowRight' || key == 'Delete') {\n      textToRight = value.substring(selectionEnd);\n    }\n    if ((key == 'Backspace' || key == 'ArrowLeft') && textToLeft === '') {\n      //if there is no other character at the left of the cursor,\n      //go to the tag before the cursor\n\n      if (index == -1) {\n        index = tags.length;\n      }\n      index--;\n      if (index >= 0) {\n        this.setActiveTagIndex(props, index);\n        event.preventDefault();\n      }\n    }\n    if ((key == 'ArrowRight' || key == 'Delete') && textToRight == '' && tags[index]) {\n      event.preventDefault();\n      this.setActiveTagIndex(props, index, function () {\n        this.setSelectionRange({\n          start: 0,\n          end: 0\n        });\n      }.bind(this));\n    }\n  },\n  removeTag: function (props, index) {\n    var allTags = this.tags.filter(function (tag, i) {\n      return i !== index;\n    });\n    var activeTagIndex = this.state.activeTagIndex;\n    if (activeTagIndex != -1 && activeTagIndex > index) {\n      //an item was removed from before the editing tag\n      //so bring the editing index one down\n      this.setState({\n        activeTagIndex: activeTagIndex - 1\n      });\n    }\n    this.notifyChange(props, props.value, allTags);\n  },\n  setActiveTagIndex: function (props, index, callback) {\n    var currentValue = props.value;\n    var shouldAddCurrent = props.validateTag(currentValue);\n    var state = this.state;\n    var value;\n    var allTags = [];\n    var tags = this.tags;\n    var i = 0;\n    var len = tags.length;\n    var activeTagIndex = state.activeTagIndex;\n    var tag;\n    if (props.editableTags) {\n      var addCurrentValue;\n      var addCurrentTag;\n      for (; i < len; i++) {\n        tag = tags[i];\n        addCurrentValue = i == activeTagIndex;\n        addCurrentTag = i != index;\n        if (addCurrentValue) {\n          shouldAddCurrent && allTags.push(currentValue);\n        }\n        if (addCurrentTag) {\n          allTags.push(tag);\n        } else {\n          value = tag;\n        }\n      }\n      if (activeTagIndex == -1) {\n        shouldAddCurrent && allTags.push(currentValue);\n      } else {\n        if (shouldAddCurrent && index >= activeTagIndex) {\n          //the current value was added\n          index++;\n        }\n      }\n    } else {\n      allTags = tags;\n      value = currentValue;\n    }\n    if (index >= allTags.length) {\n      index = -1;\n    }\n    if (index < 0) {\n      index = -1;\n    }\n    this.setState({\n      activeTagIndex: index\n    }, callback || emptyFn);\n    this.notifyChange(props, value, allTags);\n  },\n  prepareProps: function (thisProps, state) {\n    var props = assign({}, thisProps);\n    this.prepareStyles(props, state);\n    props.tagStyle = this.prepareTagStyle(props, state);\n    props.tags = this.tags = this.prepareTags(props);\n    props.value = this.prepareValue(props, state);\n    props.renderChildren = this.renderChildren.bind(this, props);\n    props.onChange = this.handleChange.bind(this, props);\n    props.onBlur = this.handleBlur.bind(this, props);\n    props.onKeyDown = this.handleKeyDown.bind(this, props);\n    props.onClick = this.handleClick.bind(this, props);\n    props.focusOnClick = false;\n    return props;\n  },\n  prepareStyles: function (props, state) {\n    props.style = this.prepareStyle(props, state);\n    props.innerStyle = assign({}, props.defaultInnerStyle, props.innerStyle);\n    props.inputStyle = assign({}, props.defaultInputStyle, props.inputStyle);\n    props.tagClearToolStyle = this.prepareTagClearToolStyle(props, state);\n    delete props.defaultStyle;\n    delete props.defaultInnerStyle;\n    delete props.defaultInputStyle;\n  },\n  prepareTagClearToolStyle: function (props, state) {\n    var style = assign({}, props.defaultTagClearToolStyle, {\n      color: props.tagClearToolColor\n    }, props.tagClearToolStyle);\n    return style;\n  },\n  prepareStyle: function (props) {\n    var style = assign({}, props.defaultStyle, props.style);\n    return style;\n  },\n  prepareValue: function (props, state) {\n    return this.getValue();\n  },\n  prepareTags: function (props) {\n    var tags = props.tags;\n    var state = this.state;\n    if (tags == null) {\n      tags = state.defaultTags;\n    }\n    tags = Array.isArray(tags) && tags.length ? [].concat(tags) : [];\n    return tags.filter(props.validateTag);\n  },\n  prepareTagStyle: function (props, state) {\n    return assign({}, props.defaultTagStyle, props.tagStyle);\n  },\n  renderChildren: function (props, children) {\n    var result = children;\n    var state = this.state;\n    var tags = props.tags;\n    if (tags.length) {\n      tags = tags.map(function (tag, index) {\n        return this.renderTag(props, tag, index);\n      }, this);\n      if (state.activeTagIndex == -1 || !props.editableTags) {\n        result = tags.concat(children);\n      } else {\n        result = tags.slice(0, state.activeTagIndex).concat(children).concat(tags.slice(state.activeTagIndex));\n      }\n    }\n    result.push(this.renderHiddenField(props));\n    return result;\n  },\n  renderHiddenField: function (props) {\n    if (props.editableTags) {\n      return;\n    }\n    return React.createElement(\"input\", {\n      key: \"hiddenFocusField\",\n      type: \"text\",\n      ref: \"hiddenFocusField\",\n      onFocus: this.onHiddenFocus,\n      onKeyDown: this.onHiddenKeyDown.bind(this, props),\n      style: {\n        opacity: 0,\n        width: 0,\n        height: 0,\n        margin: 0,\n        boxSizing: 'border-box',\n        border: 0\n        // visibility: 'hidden'\n      }\n    });\n  },\n\n  onHiddenKeyDown: function (props, event) {\n    event.preventDefault();\n    var tags = this.tags;\n    var len = tags.length;\n    var activeTagIndex = this.state.activeTagIndex;\n    if (!len) {\n      return;\n    }\n    var key = event.key;\n    var dir;\n    if (key == 'ArrowLeft') {\n      dir = -1;\n    }\n    if (key == 'ArrowRight') {\n      dir = 1;\n    }\n    var newIndex;\n    if (dir) {\n      newIndex = activeTagIndex + dir;\n      if (newIndex < 0) {\n        newIndex = len - 1;\n      }\n      if (newIndex >= len) {\n        newIndex = 0;\n      }\n      this.setActiveTagIndex(props, newIndex);\n    } else {\n      if (key == 'Delete' || key == 'Backspace') {\n        this.removeTag(props, activeTagIndex);\n        if (key == 'Backspace' || activeTagIndex === len - 1) {\n          newIndex = activeTagIndex - 1;\n          if (newIndex < 0) {\n            newIndex = 0;\n          }\n          setTimeout(function () {\n            this.setActiveTagIndex(props, newIndex);\n          }.bind(this), 0);\n        }\n        if (len == 1) {\n          this.focus();\n        }\n      }\n      if (key == 'Escape') {\n        this.setActiveTagIndex(props, -1);\n        this.focus();\n        return;\n      }\n    }\n  },\n  focusHidden: function () {\n    this.getFocusField().getDOMNode().focus();\n  },\n  getFocusField: function () {\n    return this.refs.field.refs.hiddenFocusField;\n  },\n  renderTag: function (props, tag, index) {\n    var tool;\n    var tagClearTool = props.tagClearTool;\n    if (tagClearTool) {\n      if (typeof tagClearTool == 'function') {\n        tool = tagClearTool();\n      } else {\n        tool = React.createElement(\"span\", {\n          style: props.tagClearToolStyle,\n          onClick: this.onTagClearClick.bind(this, props, tag, index)\n        }, \"✖\");\n      }\n    }\n    var tagStyle = props.tagStyle;\n    if (!props.editableTags && index == this.state.activeTagIndex && props.selectableTags) {\n      tagStyle = assign({}, tagStyle, props.selectedTagStyle);\n    }\n    return React.createElement(\"span\", {\n      key: index,\n      style: tagStyle,\n      onMouseDown: preventDefault,\n      onClick: this.onTagClick.bind(this, props, tag, index)\n    }, tag, tool);\n  },\n  onTagClick: function (props, tag, index, event) {\n    if (props.selectableTags) {\n      this.focusHidden();\n    }\n    event.nativeEvent.tagClick = true;\n    if (event.nativeEvent.clearTag) {\n      return;\n    }\n    this.setActiveTagIndex(props, index);\n  },\n  onTagClearClick: function (props, tag, index, event) {\n    event.nativeEvent.clearTag = true;\n    this.removeTag(props, index);\n  },\n  notify: function (value, event) {\n    var field = this.refs.field;\n    field.notify(value, event);\n  },\n  focus: function (value, event) {\n    this.refs.field.focus();\n  }\n});","map":{"version":3,"names":["React","require","Field","assign","normalize","emptyFn","getSelectionStart","getSelectionEnd","setSelectionRange","preventDefault","event","insert","target","index","what","concat","slice","module","exports","createClass","displayName","refs","field","getInput","range","start","end","getDefaultProps","minInputSize","selectedTagStyle","background","focusOnClick","selectableTags","clearTool","tagOnBlur","tagClearTool","allowDuplicates","editableTags","delimiter","tagClearToolColor","defaultStyle","overflow","defaultInputStyle","flex","alignSelf","defaultInnerStyle","display","flexFlow","defaultTagStyle","boxSizing","alignItems","padding","marginLeft","marginTop","marginBottom","border","whiteSpace","defaultTagClearToolStyle","cursor","validateTag","x","getInitialState","defaultValue","props","defaultTags","activeTagIndex","getValue","value","undefined","state","render","prepareProps","inputSize","Math","max","length","createElement","__spread","ref","inputProps","size","getInfoForValue","propsTags","tags","split","newValue","tagMap","prepareTags","forEach","tag","filter","handleClick","nativeEvent","tagClick","focus","setState","onClick","handleBlur","handleChange","onBlur","info","newTags","allTags","notifyChange","newState","onChangeTags","onChange","handleKeyDown","key","onKeyDown","textToLeft","textToRight","selectionStart","selectionEnd","substring","setActiveTagIndex","bind","removeTag","i","callback","currentValue","shouldAddCurrent","len","addCurrentValue","addCurrentTag","push","thisProps","prepareStyles","tagStyle","prepareTagStyle","prepareValue","renderChildren","style","prepareStyle","innerStyle","inputStyle","tagClearToolStyle","prepareTagClearToolStyle","color","Array","isArray","children","result","map","renderTag","renderHiddenField","type","onFocus","onHiddenFocus","onHiddenKeyDown","opacity","width","height","margin","dir","newIndex","setTimeout","focusHidden","getFocusField","getDOMNode","hiddenFocusField","tool","onTagClearClick","onMouseDown","onTagClick","clearTag","notify"],"sources":["/home/mddil/Desktop/projects/freelancebangla/frontend/node_modules/react-tag-editor/lib/index.js"],"sourcesContent":["'use strict';\n\nvar React  = require('react')\nvar Field  = require('react-input-field/src')\nvar assign = require('object-assign')\nvar normalize = require('react-style-normalizer')\n\nfunction emptyFn(){}\n\nvar getSelectionStart = require('./getSelectionStart')\nvar getSelectionEnd   = require('./getSelectionEnd')\nvar setSelectionRange = require('./setSelectionRange')\n\nvar preventDefault = function(event){\n\tevent.preventDefault()\n}\n\nfunction insert(target, index, what){\n\n\tif (index == -1){\n\t\treturn target.concat(what)\n\t}\n\n\treturn target.slice(0, index)\n\t\t\t.concat(what)\n\t\t\t.concat(target.slice(index))\n}\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'ReactTagField',\n\n\tgetSelectionStart: function() {\n\t\treturn getSelectionStart(this.refs.field.getInput())\n\t},\n\n\tgetSelectionEnd: function() {\n\t\treturn getSelectionEnd(this.refs.field.getInput())\n\t},\n\n\tsetSelectionRange: function(range) {\n\t\tvar start = range.start\n\t\tvar end   = range.end\n\n\t\tsetSelectionRange(this.refs.field.getInput(), range)\n\t},\n\n\tgetDefaultProps: function() {\n\t\treturn {\n\t\t\tminInputSize: 3,\n\n\t\t\tselectedTagStyle: {\n\t\t\t\tbackground: 'rgb(200, 200, 200)'\n\t\t\t},\n\t\t\tfocusOnClick: true,\n\t\t\tselectableTags: true,\n\n\t\t\tclearTool: false,\n\t\t\ttagOnBlur: false,\n\t\t\ttagClearTool: false,\n\t\t\tallowDuplicates: false,\n\t\t\teditableTags: true,\n\t\t\tdelimiter: ' ',\n\n\t\t\ttagClearToolColor: '#a8a8a8',\n\n\t\t\tdefaultStyle: {\n\t\t\t\toverflow: 'hidden'\n\t\t\t},\n\n\t\t\tdefaultInputStyle: {\n\t\t\t\tflex: 'none',\n\t\t\t\talignSelf: 'center',\n\t\t\t\t// minWidth: 50\n\t\t\t},\n\n\t\t\tdefaultInnerStyle: {\n\t\t\t    display   : 'inline-flex',\n\t\t\t    flexFlow  : 'row wrap'\n\t\t\t},\n\n\t\t\tdefaultTagStyle: {\n\t\t\t\tdisplay     : 'inline-flex',\n\t\t\t\tboxSizing: 'border-box',\n\t\t\t\talignItems  : 'center',\n\t\t\t\tflex: 'none',\n\t\t\t\tflexFlow    : 'row',\n\t\t\t\tpadding: '6px 2px',\n\t\t\t\tmarginLeft  : 2,\n\t\t\t\tmarginTop  : 1,\n\t\t\t\tmarginBottom  : 1,\n\t\t\t\tborder      : '1px solid gray',\n\t\t\t\toverflow    : 'hidden',\n\t\t\t\twhiteSpace  : 'nowrap'\n\t\t\t},\n\n\t\t\tdefaultTagClearToolStyle: {\n\t\t\t\tcursor: 'pointer'\n\t\t\t},\n\n\t\t\tvalidateTag: function(x){\n\t\t\t\treturn x !== '' && x != null\n\t\t\t}\n\t\t}\n\t},\n\n\tgetInitialState: function(){\n\t    return {\n\t\t\tdefaultValue  : this.props.defaultValue,\n\t\t\tdefaultTags   : this.props.defaultTags,\n\t\t\tactiveTagIndex: -1\n\t    }\n\t},\n\n\tgetValue: function() {\n\t    var value = this.props.value === undefined?\n\t                    this.state.defaultValue:\n\t                    this.props.value\n\n\t    return value\n\t},\n\n\trender: function() {\n\n\t\tvar props     = this.prepareProps(this.props, this.state)\n\t\tvar inputSize = Math.max(props.value? props.value.length: 0, this.props.minInputSize)\n\n\t\treturn React.createElement(Field, React.__spread({ref: \"field\"},  props, {inputProps: {size: inputSize}}))\n\t},\n\n\tgetInfoForValue: function(value, propsTags) {\n\t\tvar props          = this.props\n\t\tvar state          = this.state\n\t\tvar activeTagIndex = state.activeTagIndex\n\n\t\tvar tags     = value.split(props.delimiter)\n\t\tvar newValue = tags[tags.length - 1]\n\t\tvar tagMap   = {}\n\n\t    if (!props.allowDuplicates){\n\t    \tpropsTags = propsTags || this.prepareTags(this.props)\n\n\t\t    propsTags.forEach(function(tag, index){\n\t\t    \tif (index != activeTagIndex){\n\t\t\t    \ttagMap[tag] = true\n\t\t\t    }\n\t\t    })\n\t\t}\n\n\t    tags = tags.slice(0, tags.length - 1).filter(function(x){\n\t    \treturn x && !tagMap[x]\n\t    })\n\n\t    return {\n\t\t\ttags : tags,\n\t\t\tvalue: newValue\n\t    }\n\n\t},\n\n\thandleClick: function(props, event) {\n\n\t\tif (!event.nativeEvent.tagClick){\n\t\t\tthis.props.focusOnClick && this.focus()\n\t\t\tthis.setState({\n\t\t\t\tactiveTagIndex: -1\n\t\t\t})\n\t\t}\n\n\t\t;(this.props.onClick || emptyFn)(event)\n\t},\n\n\thandleBlur: function(props, event) {\n\t\tif (props.tagOnBlur && props.validateTag(props.value)){\n\t\t\tthis.handleChange(props, props.value + props.delimiter, null, event)\n\t\t}\n\n\t\t;(this.props.onBlur || emptyFn)(event)\n\t},\n\n\thandleChange: function(props, value, inputProps, event){\n\t\tvar state   = this.state\n\t\tvar info    = this.getInfoForValue(value, props.tags)\n\t\tvar newTags = info.tags\n\n\t\tvar allTags = props.editableTags?\n\t\t\t\t\t\tinsert(props.tags, state.activeTagIndex, newTags):\n\t\t\t\t\t\t[].concat(props.tags).concat(newTags)\n\n\t\tif (newTags.length && state.activeTagIndex != -1 && props.editableTags){\n\t\t\tthis.setState({\n\t\t\t\tactiveTagIndex: state.activeTagIndex + 1\n\t\t\t})\n\t\t}\n\n\t\tthis.notifyChange(props, info.value, allTags, event)\n\t},\n\n\tnotifyChange: function(props, newValue, allTags, event) {\n\n\t\tvar newState = {}\n\n    \t;(this.props.onChangeTags || emptyFn)(allTags)\n\n    \tif (this.props.tags == null){\n    \t    newState.defaultTags = allTags\n    \t}\n\n\t    if (this.props.value == null){\n\t    \tnewState.defaultValue = newValue\n\t    }\n\n\t    this.setState(newState)\n\n\t    ;(this.props.onChange || emptyFn)(newValue, this.props, event)\n\t},\n\n\thandleKeyDown: function(props, event) {\n\n\t\tvar key = event.key\n\n\t\tif (this.props.onKeyDown){\n\t\t\tthis.props.onKeyDown(event)\n\t\t}\n\n\t\tif (!props.tags.length || !props.editableTags){\n\t\t\treturn\n\t\t}\n\n\t\tif (key != 'Backspace' && key != 'ArrowLeft' && key != 'ArrowRight' && key != 'Delete'){\n\t\t\treturn\n\t\t}\n\n\t\tvar value = props.value + ''\n\t\tvar index = this.state.activeTagIndex\n\t\tvar tags  = props.tags\n\n\t\tvar textToLeft\n\t\tvar textToRight\n\n\t\tvar selectionStart = this.getSelectionStart()\n\t\tvar selectionEnd   = this.getSelectionEnd()\n\n\t\tif (selectionStart < selectionEnd){\n\t\t\treturn\n\t\t}\n\n\t\tif (key == 'ArrowLeft' || key == 'Backspace'){\n\t\t\ttextToLeft = value.substring(0, selectionStart)\n\t\t}\n\n\t\tif (key == 'ArrowRight' || key == 'Delete'){\n\t\t\ttextToRight = value.substring(selectionEnd)\n\t\t}\n\n\t\tif ((key == 'Backspace' || key == 'ArrowLeft') && textToLeft === ''){\n\n\t\t\t//if there is no other character at the left of the cursor,\n\t\t\t//go to the tag before the cursor\n\n\t\t\tif (index == -1){\n\t\t\t\tindex = tags.length\n\t\t\t}\n\n\t\t\tindex--\n\n\t\t\tif (index >= 0){\n\t\t\t\tthis.setActiveTagIndex(props, index)\n\t\t\t\tevent.preventDefault()\n\t\t\t}\n\t\t}\n\n\t\tif ((key == 'ArrowRight' || key == 'Delete') && textToRight == '' && tags[index]){\n\t\t\tevent.preventDefault()\n\t\t\tthis.setActiveTagIndex(props, index, function(){\n\t\t\t\tthis.setSelectionRange({start: 0, end: 0})\n\t\t\t}.bind(this))\n\t\t}\n\t},\n\n\tremoveTag: function(props, index) {\n\t\tvar allTags = this.tags.filter(function(tag, i){\n\t\t\treturn i !== index\n\t\t})\n\n\t\tvar activeTagIndex = this.state.activeTagIndex\n\t\tif (activeTagIndex != -1 && activeTagIndex > index){\n\t\t\t//an item was removed from before the editing tag\n\t\t\t//so bring the editing index one down\n\t\t\tthis.setState({\n\t\t\t\tactiveTagIndex: activeTagIndex - 1\n\t\t\t})\n\t\t}\n\n\t\tthis.notifyChange(props, props.value, allTags)\n\t},\n\n\tsetActiveTagIndex: function(props, index, callback) {\n\t\tvar currentValue     = props.value\n\t\tvar shouldAddCurrent = props.validateTag(currentValue)\n\n\t\tvar state   = this.state\n\t\tvar value\n\n\t\tvar allTags = []\n\t\tvar tags    = this.tags\n\t\tvar i       = 0\n\t\tvar len     = tags.length\n\n\t\tvar activeTagIndex = state.activeTagIndex\n\t\tvar tag\n\n\t\tif (props.editableTags){\n\n\t\t\tvar addCurrentValue\n\t\t\tvar addCurrentTag\n\n\t\t\tfor (; i < len; i++){\n\t\t\t\ttag = tags[i]\n\n\t\t\t\taddCurrentValue = i == activeTagIndex\n\t\t\t\taddCurrentTag   = i != index\n\n\t\t\t\tif (addCurrentValue){\n\t\t\t\t\tshouldAddCurrent && allTags.push(currentValue)\n\t\t\t\t}\n\t\t\t\tif (addCurrentTag){\n\t\t\t\t\tallTags.push(tag)\n\t\t\t\t} else {\n\t\t\t\t\tvalue = tag\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (activeTagIndex == -1){\n\t\t\t\tshouldAddCurrent && allTags.push(currentValue)\n\t\t\t} else {\n\t\t\t\tif (shouldAddCurrent && index >= activeTagIndex){\n\t\t\t\t\t//the current value was added\n\t\t\t\t\tindex++\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tallTags = tags\n\t\t\tvalue = currentValue\n\t\t}\n\n\t\tif (index >= allTags.length){\n\t\t\tindex = -1\n\t\t}\n\t\tif (index < 0){\n\t\t\tindex = -1\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactiveTagIndex: index\n\t\t}, callback || emptyFn)\n\n\t\tthis.notifyChange(props, value, allTags)\n\t},\n\n\tprepareProps: function(thisProps, state) {\n\t\tvar props = assign({}, thisProps)\n\n\t\tthis.prepareStyles(props, state)\n\n\t\tprops.tagStyle       = this.prepareTagStyle(props, state)\n\t\tprops.tags           = this.tags = this.prepareTags(props)\n\t\tprops.value          = this.prepareValue(props, state)\n\t\tprops.renderChildren = this.renderChildren.bind(this, props)\n\n\t\tprops.onChange  = this.handleChange.bind(this, props)\n\t\tprops.onBlur    = this.handleBlur.bind(this, props)\n\t\tprops.onKeyDown = this.handleKeyDown.bind(this, props)\n\t\tprops.onClick   = this.handleClick.bind(this, props)\n\n\t\tprops.focusOnClick = false\n\n\t\treturn props\n\t},\n\n\tprepareStyles: function(props, state) {\n\t\tprops.style = this.prepareStyle(props, state)\n\t\tprops.innerStyle = assign({}, props.defaultInnerStyle, props.innerStyle)\n\t\tprops.inputStyle = assign({}, props.defaultInputStyle, props.inputStyle)\n\n\t\tprops.tagClearToolStyle = this.prepareTagClearToolStyle(props, state)\n\n\n\t\tdelete props.defaultStyle\n\t\tdelete props.defaultInnerStyle\n\t\tdelete props.defaultInputStyle\n\t},\n\n\tprepareTagClearToolStyle: function(props, state) {\n\t\tvar style = assign({}, props.defaultTagClearToolStyle, {\n\t\t\tcolor: props.tagClearToolColor\n\t\t}, props.tagClearToolStyle)\n\n\t\treturn style\n\t},\n\n\tprepareStyle: function(props) {\n\t\tvar style = assign({}, props.defaultStyle, props.style)\n\n\t\treturn style\n\t},\n\n\tprepareValue: function(props, state) {\n\t    return this.getValue()\n\t},\n\n\tprepareTags: function(props) {\n\t\tvar tags  = props.tags\n\t\tvar state = this.state\n\n\t\tif (tags == null){\n\t\t\ttags = state.defaultTags\n\t\t}\n\n\t\ttags = Array.isArray(tags) && tags.length? [].concat(tags): []\n\n\t\treturn tags.filter(props.validateTag)\n\t},\n\n\tprepareTagStyle: function(props, state) {\n\t\treturn assign({}, props.defaultTagStyle, props.tagStyle)\n\t},\n\n\trenderChildren: function(props, children) {\n\t\tvar result = children\n\t\tvar state = this.state\n\n\t\tvar tags = props.tags\n\n\t\tif (tags.length){\n\t\t\ttags = tags.map(function(tag, index){\n\t\t\t\treturn this.renderTag(props, tag, index)\n\t\t\t}, this)\n\n\t\t\tif (state.activeTagIndex == -1 || !props.editableTags){\n\t\t\t\tresult = tags.concat(children)\n\t\t\t} else {\n\t\t\t\tresult = tags.slice(0, state.activeTagIndex)\n\t\t\t\t\t\t\t.concat(children)\n\t\t\t\t\t\t\t.concat(tags.slice(state.activeTagIndex))\n\t\t\t}\n\t\t}\n\n\t\tresult.push(this.renderHiddenField(props))\n\n\t\treturn result\n\t},\n\n\trenderHiddenField: function(props) {\n\t\tif (props.editableTags){\n\t\t\treturn\n\t\t}\n\n\t\treturn React.createElement(\"input\", {\n\t\t\tkey: \"hiddenFocusField\", \n\t\t\ttype: \"text\", \n\t\t\tref: \"hiddenFocusField\", \n\t\t\tonFocus: this.onHiddenFocus, \n\t\t\tonKeyDown: this.onHiddenKeyDown.bind(this, props), \n\t\t\tstyle: {\n\t\t\t\topacity: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tmargin: 0,\n\t\t\t\tboxSizing: 'border-box',\n\t\t\t\tborder: 0\n\t\t\t\t// visibility: 'hidden'\n\t\t\t}}\n\t\t)\n\t},\n\n\tonHiddenKeyDown: function(props, event){\n\n\t\tevent.preventDefault()\n\n\t\tvar tags = this.tags\n\t\tvar len = tags.length\n\t\tvar activeTagIndex = this.state.activeTagIndex\n\n\t\tif (!len){\n\t\t\treturn\n\t\t}\n\n\t\tvar key = event.key\n\n\t\tvar dir\n\n\t\tif (key == 'ArrowLeft'){\n\t\t\tdir = -1\n\t\t}\n\t\tif (key == 'ArrowRight'){\n\t\t\tdir = 1\n\t\t}\n\n\t\tvar newIndex\n\n\t\tif (dir){\n\t\t\tnewIndex = activeTagIndex + dir\n\n\t\t\tif (newIndex < 0){\n\t\t\t\tnewIndex = len - 1\n\t\t\t}\n\n\t\t\tif (newIndex >= len){\n\t\t\t\tnewIndex = 0\n\t\t\t}\n\t\t\tthis.setActiveTagIndex(props, newIndex)\n\n\t\t} else {\n\n\t\t\tif (key == 'Delete' || key == 'Backspace'){\n\t\t\t\tthis.removeTag(props, activeTagIndex)\n\n\t\t\t\tif (key == 'Backspace' || activeTagIndex === len - 1){\n\t\t\t\t\tnewIndex = activeTagIndex - 1\n\t\t\t\t\tif (newIndex < 0){\n\t\t\t\t\t\tnewIndex = 0\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tthis.setActiveTagIndex(props, newIndex)\n\t\t\t\t\t}.bind(this), 0)\n\t\t\t\t}\n\n\t\t\t\tif (len == 1){\n\t\t\t\t\tthis.focus()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key == 'Escape'){\n\t\t\t\tthis.setActiveTagIndex(props, -1)\n\t\t\t\tthis.focus()\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t},\n\n\tfocusHidden: function() {\n\t\tthis.getFocusField().getDOMNode().focus()\n\t},\n\n\tgetFocusField: function(){\n\t\treturn this.refs.field.refs.hiddenFocusField\n\t},\n\n\trenderTag: function(props, tag, index) {\n\t\tvar tool\n\t\tvar tagClearTool = props.tagClearTool\n\n\t\tif (tagClearTool){\n\t\t\tif (typeof tagClearTool == 'function'){\n\t\t\t\ttool = tagClearTool()\n\t\t\t} else {\n\t\t\t\ttool = React.createElement(\"span\", {style: props.tagClearToolStyle, onClick: this.onTagClearClick.bind(this, props, tag, index)}, \"✖\")\n\t\t\t}\n\t\t}\n\n\t\tvar tagStyle = props.tagStyle\n\n\t\tif (!props.editableTags && index == this.state.activeTagIndex && props.selectableTags){\n\t\t\ttagStyle = assign({}, tagStyle, props.selectedTagStyle)\n\t\t}\n\n\t\treturn React.createElement(\"span\", {key: index, style: tagStyle, onMouseDown: preventDefault, onClick: this.onTagClick.bind(this, props, tag, index)}, \n\t\t\ttag, \n\t\t\ttool\n\t\t)\n\t},\n\n\tonTagClick: function(props, tag, index, event) {\n\t\tif (props.selectableTags){\n\t\t\tthis.focusHidden()\n\t\t}\n\n\t\tevent.nativeEvent.tagClick = true\n\n\t\tif (event.nativeEvent.clearTag){\n\t\t\treturn\n\t\t}\n\n\t\tthis.setActiveTagIndex(props, index)\n\t},\n\n\tonTagClearClick: function(props, tag, index, event){\n\t\tevent.nativeEvent.clearTag = true\n\t\tthis.removeTag(props, index)\n\t},\n\n\tnotify: function(value, event) {\n\t    var field = this.refs.field\n\n\t    field.notify(value, event)\n\t},\n\n\tfocus: function(value, event) {\n\t    this.refs.field.focus()\n\t}\n})"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}